# TODO: تحلیل و پیاده‌سازی سامانه محاسبه عوارض و بهای خدمات روستای قهرود

## مقدمه
این فایل شامل مراحل لازم برای بررسی، تحلیل و پیاده‌سازی سامانه‌ای است که بر اساس دفترچه رسمی عوارض و بهای خدمات روستای قهرود (۱۴۰۴) و طرح پیشنهادی سامانه هوشمند محاسبه عوارض تهیه شده است.

## مقادیر و ضرایب کلیدی استخراج‌شده از دفترچه عوارض ۱۴۰۴

> در این بخش، تمام اعداد، ضرایب، فرمول‌ها و مقادیر عددی مورد نیاز برای پیاده‌سازی سامانه، به صورت چک‌لیست و مرجع ذخیره می‌شوند تا در مراحل بعدی توسعه مورد استفاده قرار گیرند. این بخش با پیشرفت پروژه و استخراج جزئیات دفترچه تکمیل خواهد شد.

- [ ] **انواع ضرایب:**
  - [ ] ضریب بخش
  - [ ] ضریب روستا (ضریب خاص قهرود)
  - [ ] ضریب کاربری (مسکونی، تجاری، صنعتی و ...)
  - [ ] ضریب نوع پروانه ساختمانی
  - [ ] ضرایب معافیت‌ها (ایثارگران، کمیته امداد، بهزیستی، مساجد، خانواده‌های پرجمعیت و ...)
  - [ ] ضریب جریمه دیرکرد
  - [ ] سقف افزایش سالانه عوارض
- [ ] **ارزش معاملاتی عرصه و اعیانی (به تفکیک سال و منطقه)**
- [ ] **فرمول‌های محاسبه عوارض و بهای خدمات**
- [ ] **مقادیر ثابت و متغیر مورد نیاز برای هر نوع عوارض/خدمت**
- [ ] **جدول معافیت‌ها و شرایط آن‌ها**
- [ ] **جدول جریمه‌ها و نحوه محاسبه**
- [ ] **سایر اعداد و ضرایب خاص ذکرشده در دفترچه**

- [ ] **سال تعرفه دفترچه:** ۱۴۰۴
- [ ] **تاریخ تصویب دستورالعمل اجرایی:** ۱۴۰۳/۰۹/۲۸
- [ ] **سال تصویب قانون درآمد پایدار:** ۱۴۰۱
- [ ] **تاریخ لازم‌الاجرا شدن ممنوعیت عوارض/بهای خدمات نامعین:** ابتدای ۱۴۰۴
- [ ] **سال تعرفه قابل استفاده در صورت عدم تصویب:** ۱۴۰۳
- [ ] **تاریخ لغو معافیت‌ها/تخفیف‌های مالیاتی:** ۱۴۰۰/۰۴/۱۲
- [ ] **تاریخ صدور استعلام بیمه کارگران ساختمانی:** ۱۴۰۳/۰۲/۰۸
- [ ] **تاریخ مصوبه هیئت وزیران ماده ۶۴ مالیات‌های مستقیم:** ۱۴۰۳/۰۸/۲۰
- [ ] **مهلت پیشنهاد و تصویب عوارض:** تا ۱۵ بهمن هر سال
- [ ] **مهلت اطلاع‌رسانی عمومی عوارض:** تا پایان بهمن هر سال

##### جریمه و تخفیف‌ها
- [ ] **جریمه تأخیر پرداخت عوارض/بهای خدمات:** ۲٪ ماهانه (حداکثر ۲۴٪)
- [ ] **حداکثر نرخ رشد عوارض (۱۴۰۴ نسبت به ۱۴۰۳):** ۳۳.۵٪
- [ ] **تخفیف نوسازی/بازسازی تجاری، اداری، صنعتی:** ۵۰٪
- [ ] **تخفیف خانواده ۳ فرزند زیر ۲۰ سال (شبکه/انشعابات/خدمات مهندسی):** ۵۰٪
- [ ] **تخفیف خانواده ۴ فرزند زیر ۲۰ سال (شبکه/انشعابات/خدمات مهندسی):** ۷۰٪
- [ ] **تخفیف خانواده ۳ فرزند زیر ۲۰ سال (عوارض پروانه/ساختمانی):** ۱۰٪
- [ ] **تخفیف بافت فرسوده/ناکارآمد:** حداقل ۵۰٪
- [ ] **عوارض بالکن کلیه کاربری‌ها:** ۲۰٪ تعرفه مربوطه
- [ ] **عوارض بالکن تجاری متصل/منفصل:** ۲۵٪ عوارض پذیره یک متر مربع؛ بالکن >۸۰٪: عوارض پذیره تجاری همان طبقه
- [ ] **عوارض بالکن اداری/خدماتی متصل/منفصل:** ۲۵٪ عوارض پذیره یک متر مربع؛ بالکن >۸۰٪: عوارض پذیره اداری/خدماتی همان طبقه
- [ ] **حداکثر عمق اولین دهنه مجتمع تجاری:** ۳ پلاک یا ۴۰ متر؛ بیشتر: ۸۰٪ قیمت منطقه‌ای اولین دهنه
- [ ] **حداکثر عمق اولین دهنه مجتمع اداری:** ۳ پلاک یا ۶۰ متر؛ بیشتر: ۸۰٪ قیمت منطقه‌ای اولین دهنه
- [ ] **عوارض کاربری مختلط:** ۱۲۰٪ تعرفه تراکم پایه
- [ ] **نرخ مالیات ساخت و ساز (۱۴۰۴):** ۱۱.۵٪

##### جدول مهلت زمانی اتمام عملیات ساختمانی
| ردیف | مساحت (مترمربع) | حداقل زمان اتمام (ماه) |
|------|------------------|------------------------|
| ۱    | تا ۳۰۰           | ۱۲                     |
| ۲    | ۳۰۰ - ۲۰۰۰       | ۲۴                     |
| ۳    | ۲۰۰۰ - ۵۰۰۰      | ۳۶                     |
| ۴    | ۵۰۰۰ - ۱۰۰۰۰     | ۴۸                     |
| ۵    | بیش از ۱۰۰۰۰     | ۶۰                     |

##### ضرایب روستایی بخش قمصر (قهروود و سایر روستاها)
- [ ] **ضریب C:** ۰.۱۵
- [ ] **ضریب D:** ۰.۱۹
- [ ] **ضریب E:** ۰.۴۸
- [ ] **ضریب F:** ۱
- [ ] **ضریب G:** ۳.۳۱

##### فرمول‌ها و ضرایب عوارض پروانه‌های ساختمانی
**تعرفه ۱۰۰۱: مسکونی تک واحدی (تراکم پایه)**
- فرمول: `A = (B × C) × M × P`
  - A: مبلغ عوارض
  - P: ارزش معاملاتی زمین
  - M: مساحت بنا
  - B: ضریب عوارض بخش (جدول زیر)
  - C: ضریب عوارض روستایی
- ضرایب B:
  - زیرزمین: ۱.۹
  - همکف: ۳.۸
  - طبقه اول: ۵.۷
  - طبقه دوم و بالاتر: ۷.۶

**تعرفه ۱۰۰۲: مسکونی چند واحدی (آپارتمان/مجتمع، تراکم پایه)**
- فرمول: `A = (B × C) × M × P`
  - N: تعداد واحد (۲ تا ۱۰)
  - K: ۰.۱۵ برای دو واحد، افزایش ۰.۰۲ برای هر واحد اضافی (حداکثر K=۱۰)
- ضرایب B:
  - زیرزمین: `۰.۲۵ × (K × N + ۱۰)`
  - همکف: `۰.۴۵ × (K × N + ۱۰)`
  - طبقه اول: `۰.۷۵ × (K × N + ۱۰)`
  - طبقه دوم و بالاتر: `۰.۹ × (K × N + ۱۰)`

**تعرفه ویلا باغ**
- فرمول: `A = (B × C) × M × P`
- ضرایب B:
  - زیرزمین: چند واحدی: `۱ × (K × N + ۱۰)`؛ تک واحدی: ۱۰
  - همکف: چند واحدی: `۱.۵ × (K × N + ۱۰)`؛ تک واحدی: ۱۵
  - طبقه اول: چند واحدی: `۱.۸ × (K × N + ۱۰)`؛ تک واحدی: ۱۸
  - طبقه دوم و بالاتر: چند واحدی: `۲.۵ × (K × N + ۱۰)`؛ تک واحدی: ۲۵

**تعرفه ۱۰۰۳: پذیره تجاری (تراکم پایه)**
- فرمول: `A = (B × D) × M × P`
  - D: ضریب عوارض روستایی (جدول بالا)
- ضرایب B:
  - زیرزمین: چند واحدی: `۱.۹ × (K × N + ۱۰)`؛ تک واحدی: ۵
  - همکف: چند واحدی: `۳.۸ × (K × N + ۱۰)`؛ تک واحدی: ۸
  - طبقه اول: چند واحدی: `۵.۷ × (K × N + ۱۰)`؛ تک واحدی: ۷
  - طبقه دوم و بالاتر: چند واحدی: `۷.۶ × (K × N + ۱۰)`؛ تک واحدی: ۴.۵

**تعرفه ۱۰۰۴: پذیره اداری/خدماتی/دفتری/کارگاهی/گلابگیری سنتی**
- فرمول: `A = (B × C) × M × P`
- ضرایب B:
  - زیرزمین: چند واحدی: `۱.۲ × (K × N + ۱۰)`؛ تک واحدی: ۱۲
  - همکف: چند واحدی: `۲ × (K × N + ۱۰)`؛ تک واحدی: ۲۰
  - طبقه اول: چند واحدی: `۱.۵ × (K × N + ۱۰)`؛ تک واحدی: ۱۵
  - طبقه دوم و بالاتر: چند واحدی: `۱ × (K × N + ۱۰)`؛ تک واحدی: ۱۰
  - بالکن داخلی (مزنین): چند واحدی: `۰.۸ × (K × N + ۱۰)`؛ تک واحدی: ۸

**تعرفه ۱۰۰۵: پذیره صنعتی/صنایع وابسته به کشاورزی/تأسیسات گردشگری/بوم‌گردی**
- فرمول: `A = (B × C) × M × P`
- فرمول ویژه مخازن آب/سیلوها/حوضچه‌های پرورش ماهی/استخرها: `A۱ = (B × C) × M × P × H`
  - H: ارتفاع سازه
- ضرایب B:
  - زیرزمین: ۳.۴۲
  - همکف: ۵.۷
  - طبقه اول: ۲.۸۵
  - طبقه دوم و بالاتر: ۲.۲۸
  - بالکن داخلی (مزنین): ۰.۳۸
  - مخازن آب/سیلوها/حوضچه‌ها/استخرها: ۳

---

## مراحل انجام کار

- [ ] **۱. مطالعه و استخراج قوانین دفترچه عوارض ۱۴۰۴**
  - [ ] بررسی کامل دفترچه و استخراج انواع عوارض محلی و بهای خدمات
  - [ ] تفکیک دقیق بین عوارض محلی (مالیات بر ملک) و بهای خدمات (هزینه سرویس‌ها)
  - [ ] استخراج فرمول‌های محاسبه (پارامترها: ارزش معاملاتی عرصه، مساحت اعیانی، ضرایب بخش، روستا و ...)
  - [ ] شناسایی ضرایب خاص روستای قهرود و مستندسازی آن‌ها
  - [ ] استخراج انواع کاربری (مسکونی، تجاری، صنعتی و ...)
  - [ ] استخراج انواع پروانه ساختمانی و ضرایب مربوطه
  - [ ] استخراج لیست معافیت‌ها (ایثارگران، کمیته امداد، بهزیستی، مساجد، خانواده‌های پرجمعیت و ...)
  - [ ] بررسی قوانین جریمه دیرکرد و سقف افزایش سالانه عوارض

- [ ] **۲. تحلیل نیازمندی‌های سامانه هوشمند**
  - [ ] تعریف نقش‌ها (کاربر عادی، مدیر)
  - [ ] تعیین داده‌های ورودی مورد نیاز (مشخصات ملک، وضعیت مالک، نوع کاربری و ...)
  - [ ] تعیین خروجی مورد انتظار (قبض عوارض قابل چاپ، گزارش‌ها و ...)
  - [ ] بررسی نیاز به داده‌های به‌روز برای اعمال معافیت‌ها
  - [ ] مستندسازی چالش‌های پیاده‌سازی منطق پیچیده دفترچه

- [ ] **۳. طراحی فنی سامانه**
  - [ ] انتخاب تکنولوژی‌های پیشنهادی (Next.js، React، TypeScript، Bootstrap)
  - [ ] طراحی پایگاه داده (PostgreSQL یا MongoDB بر اساس نیاز)
  - [ ] طراحی ساختار جداول/کالکشن‌ها برای ذخیره اطلاعات املاک، کاربران، معافیت‌ها و ...
  - [ ] طراحی APIها و منطق محاسباتی
  - [ ] طراحی رابط کاربری با Bootstrap و رعایت اصول UX
  - [ ] پیش‌بینی سطوح دسترسی و امنیت داده‌ها

- [ ] **۴. پیاده‌سازی اولیه**
  - [ ] راه‌اندازی پروژه Next.js و پاک‌سازی اولیه طبق قوانین پروژه
  - [ ] پیاده‌سازی صفحات ورود اطلاعات ملک و مالک
  - [ ] پیاده‌سازی منطق محاسبه عوارض و بهای خدمات بر اساس دفترچه
  - [ ] پیاده‌سازی اعمال معافیت‌ها و جریمه دیرکرد
  - [ ] پیاده‌سازی سقف افزایش سالانه عوارض
  - [ ] پیاده‌سازی مدیریت کاربران و نقش‌ها
  - [ ] پیاده‌سازی صدور قبض و گزارش‌گیری

- [ ] **۵. تست و اعتبارسنجی**
  - [ ] تست واحد و یکپارچه منطق محاسباتی
  - [ ] تست امنیت و صحت اعمال معافیت‌ها
  - [ ] تست رابط کاربری و تجربه کاربری
  - [ ] تست عملکرد و پایداری سامانه

- [ ] **۶. مستندسازی و آموزش**
  - [ ] مستندسازی کامل منطق محاسبات و پیاده‌سازی
  - [ ] تهیه راهنمای استفاده برای کاربران و مدیران
  - [ ] مستندسازی APIها و ساختار پایگاه داده
  - [ ] ثبت تصمیمات کلیدی و چالش‌های پروژه

- [ ] **۷. جمع‌بندی و بازخورد**
  - [ ] جمع‌بندی نتایج و مزایای سامانه نسبت به روش سنتی
  - [ ] بررسی تأثیر شفافیت و اتوماسیون بر پذیرش قوانین عوارض
  - [ ] دریافت بازخورد از کاربران و بهبود سامانه

---

> این مراحل به صورت پویا قابل به‌روزرسانی و تکمیل هستند و با پیشرفت پروژه، جزئیات بیشتری به هر بخش افزوده خواهد شد. 

## ویو نمونه سایت (Sample Site View)

- [ ] راه‌اندازی پروژه Next.js (فقط برای نمونه، بدون پیاده‌سازی کامل منطق)
- [ ] نصب و راه‌اندازی Bootstrap و SCSS
- [ ] اطمینان از راست‌چین بودن سایت (RTL) و زبان فارسی (بدون استفاده از bootstrap-rtl)
- [ ] طراحی UI به صورت راست‌چین و فارسی با Bootstrap
- [ ] طراحی صفحه اصلی نمونه با معرفی پروژه و هدف (UI ساده)
- [ ] ایجاد یک فرم نمونه برای ورود اطلاعات اولیه (مثلاً: نوع کاربری، مساحت، تعداد طبقات)
- [ ] نمایش نتایج محاسباتی فرضی (بدون منطق واقعی، فقط نمایشی)
- [ ] رعایت ریسپانسیو بودن و استفاده از کامپوننت‌های Bootstrap
- [ ] مستندسازی کوتاه در README برای نحوه اجرای نمونه

---

### سایر موارد (فعلاً نیاز نیست)

- [ ] استخراج کامل ضرایب و اعداد دفترچه عوارض ۱۴۰۴ (فعلاً نیاز نیست)
- [ ] پیاده‌سازی منطق کامل محاسبات عوارض و تخفیف‌ها (فعلاً نیاز نیست)
- [ ] طراحی دیتابیس و مدل داده‌ای (فعلاً نیاز نیست)
- [ ] پیاده‌سازی احراز هویت و نقش‌ها (فعلاً نیاز نیست)
- [ ] پیاده‌سازی API و بک‌اند (فعلاً نیاز نیست)
- [ ] تست‌های واحد و یکپارچه (فعلاً نیاز نیست)
- [ ] مستندسازی کامل منطق و API (فعلاً نیاز نیست)
- [ ] تولید گزارش و قبض قابل چاپ (فعلاً نیاز نیست)
- [ ] پیاده‌سازی بخش مدیریت (فعلاً نیاز نیست)
- [ ] پیاده‌سازی استایل و تم نهایی (فعلاً نیاز نیست)
- [ ] هرگونه اتصال به دیتابیس یا ذخیره‌سازی اطلاعات (فعلاً نیاز نیست) 